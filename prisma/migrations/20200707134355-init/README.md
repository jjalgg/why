# Migration `20200707134355-init`

This migration has been generated by b6332596 at 7/7/2020, 1:43:55 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."Notice" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"id" text  NOT NULL ,"ownerId" text   ,"postNumber" integer  NOT NULL ,"text" text  NOT NULL ,"title" text  NOT NULL ,
    PRIMARY KEY ("id"))

ALTER TABLE "public"."User" ALTER COLUMN "role" SET DEFAULT E'VIEWER';

ALTER TABLE "public"."Notice" ADD FOREIGN KEY ("ownerId")REFERENCES "public"."User"("id") ON DELETE SET NULL  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200707134245-init..20200707134355-init
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 model BookMark {
   authorId  String?
@@ -180,13 +180,11 @@
   following          User[]        @relation("UserFollows", references: [id])
   followers          User[]        @relation("UserFollows", references: [id])
   adminPost          AdminPost[]
   adminComment       AdminComment[]
+  Notice             Notice[]
 }
-
-
-
 model AdminPost {
   id            String     @id @default(cuid())
   text          String
   title         String
@@ -205,8 +203,18 @@
   postId       String?
   post         AdminPost?    @relation(fields: [postId], references: [id])
 }
+model Notice {
+  id            String     @id @default(cuid())
+  createdAt     DateTime   @default(now())
+  text          String
+  title         String
+  postNumber    Int         
+  ownerId       String?
+  owner         User?      @relation(fields: [ownerId], references: [id])
+}
+
 enum Role {
   ADMIN
   MARSHAL
   USER
```


